(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{6066:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/poem",function(){return t(4822)}])},1328:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var _=t(1527),r=t(1787),i=t.n(r),s=t(7009),o=t.n(s),a=t(5924),l=t(959);let c=(0,l.memo)(function(e){let{text:n,link:t,active:r}=e;return(0,_.jsxs)("div",{className:(0,a.Z)({[o().button_wrapper]:!0}),open:r,children:[(0,_.jsx)(i(),{className:o().text,href:t,children:n}),(0,_.jsx)("div",{className:o().bottom_line})]})});function m(e){let{name:n}=e;return(0,_.jsxs)("div",{className:"".concat(o().headerContainer),children:[(0,_.jsxs)("div",{className:(0,a.Z)({[o().leftPanel]:!0}),children:[(0,_.jsx)("div",{className:"text-white",children:"LOGO"}),(0,_.jsx)(c,{text:"首页",link:"/",active:"home"==n}),(0,_.jsx)(c,{text:"文艺",link:"/poem",active:"poem"==n}),(0,_.jsx)(c,{text:"关于我",link:"/me",active:"me"==n})]}),(0,_.jsx)("div",{className:o().rightPanel,children:(0,_.jsx)("div",{className:o().icon,children:"W"})})]})}},6979:function(e,n,t){"use strict";var _=t(959);let r=()=>{let[e,n]=(0,_.useState)(0);return(0,_.useEffect)(()=>{let e=()=>{n(window.scrollY)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),e};n.Z=r},4822:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return x},default:function(){return b}});var _=t(1527),r=t(2644),i=t.n(r),s=t(1965),o=t(1328),a=t(6979),l=t(959),c=t(8568),m=t.n(c);function u(e){let{children:n}=e;return(0,_.jsx)("aside",{className:m().side_menu_wrapper,children:n})}function d(e){let{children:n,chapter:t,href:r=""}=e,[i,s]=(0,l.useState)(!1),o=(0,l.useRef)(null),a=(0,l.useRef)(null),c=()=>{let e=o.current;if(e){if(i)e.style.overflow="hidden",e.style.height="".concat(e.offsetHeight,"px"),e.offsetHeight,e.style.height="0px",a.current=setTimeout(()=>{e.style.overflow="auto",e.style.display="none"},500);else{e.style.display="block",e.style.overflow="hidden",e.style.height="auto";let n=e.offsetHeight;e.style.height="0px",e.offsetHeight,e.style.height="".concat(n,"px"),a.current=setTimeout(()=>{e.style.overflow="auto",e.style.height="auto"},200)}}};return(0,_.jsxs)("li",{className:"".concat(m().sub_side_menu_wrapper),children:[(0,_.jsxs)("a",{className:"".concat(m().sub_menu_chapter),open:i,onClick:()=>{s(e=>!e),c()},children:[t,(0,_.jsx)("span",{className:m().sub_menu_item_icon})]}),(0,_.jsx)("ul",{className:"".concat(m().sub_side_menu_items),ref:o,children:n})]})}function p(e){let{children:n,href:t=""}=e;return(0,_.jsx)("li",{className:m().side_menu_item_wrapper,children:(0,_.jsx)("a",{href:t,children:n})})}let h=e=>{let{title:n,content:t,id:r}=e;return(0,_.jsxs)("section",{className:i().poemContainer,id:r,children:[(0,_.jsx)("div",{className:i().poemTitleWrapper,children:(0,_.jsx)("div",{className:i().poemTitle,children:n})}),(0,_.jsx)("div",{className:i().poemContentWrapper,children:(0,_.jsx)("div",{className:i().poemContent,dangerouslySetInnerHTML:{__html:t}})})]})};var x=!0;function b(e){let{allPostsData:n}=e,t=(0,a.Z)(),r=function(e,n){if(null===e)return{};let t={};for(let _ of e){let e=_[n];t.hasOwnProperty(String(e))||(t[String(e)]=[]),t[String(e)].push(_)}return t}(n,"year");return console.log(r),(0,l.useMemo)(()=>n.map(e=>({id:e.id,title:e.title})),[n]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(s.PB,{title:"诗意"}),(0,_.jsx)("section",{className:"header-fixed ".concat(t?"sticky":""),children:(0,_.jsx)(o.Z,{name:"poem"})}),(0,_.jsx)("main",{className:i().main,children:(0,_.jsxs)("section",{className:"flex justify-between",children:[(0,_.jsx)("section",{className:i().poems,children:n.map(e=>(0,_.jsx)(h,{id:e.id,title:e.title,content:e.content},e.id))}),(0,_.jsx)("div",{className:i().side_bar,children:(0,_.jsx)(u,{children:Object.keys(r).map(e=>(0,_.jsx)(d,{chapter:e,children:r[e].map(n=>(0,_.jsx)(p,{href:"#".concat(n.id),children:n.title},"".concat(e,"-poem-").concat(n.id)))},"poem-submenu-".concat(e)))})})]})})]})}},7009:function(e){e.exports={headerContainer:"Header_headerContainer__m5wGA",leftPanel:"Header_leftPanel__ob0aF",list:"Header_list___02Jq",button_wrapper:"Header_button_wrapper__iJH_a",text:"Header_text__YE7s8",bottom_line:"Header_bottom_line__360El",active:"Header_active__gnzlZ",bottomLine:"Header_bottomLine__zUzkC",rightPanel:"Header_rightPanel__rARBv",icon:"Header_icon__z9DUe"}},2644:function(e){e.exports={side_bar:"Home_side_bar__pNvft",poems:"Home_poems__RFdIL",poemContainer:"Home_poemContainer__BMyY5",poemTitleWrapper:"Home_poemTitleWrapper__a8qqp",poemTitle:"Home_poemTitle__TyoM3",poemContentWrapper:"Home_poemContentWrapper__oYeHN",poemContent:"Home_poemContent__i3PJ9",main:"Home_main__OVLM4",banner_container:"Home_banner_container__dXTOj",banner:"Home_banner__F5GOV",banner_wrapper:"Home_banner_wrapper__GP2Du",banner_img_container:"Home_banner_img_container___zIM6",banner_img_background:"Home_banner_img_background__PLabl","slide-x-out":"Home_slide-x-out__4jWOS","slide-x-in":"Home_slide-x-in__EwtjN","slide-x-out-reverse":"Home_slide-x-out-reverse__e_zYB","slide-x-in-reverse":"Home_slide-x-in-reverse__bz9HL",banner_button_group:"Home_banner_button_group__cR4A_",active:"Home_active__jsr0T",banner_text_container:"Home_banner_text_container__3jsbr",banner_text_header:"Home_banner_text_header__2hKTI",banner_text_content:"Home_banner_text_content__cWNFF",banner_time_progress:"Home_banner_time_progress___3XrX",banner_time_progress_inner:"Home_banner_time_progress_inner__7jdR3","time-progress":"Home_time-progress__g0rnf"}},8568:function(e){e.exports={side_menu_wrapper:"SideMenu_side_menu_wrapper__ejp7D",sub_side_menu_wrapper:"SideMenu_sub_side_menu_wrapper__E7jAn",sub_menu_chapter:"SideMenu_sub_menu_chapter___nKVr",sub_menu_item_icon:"SideMenu_sub_menu_item_icon__lx2AY",side_menu_item_wrapper:"SideMenu_side_menu_item_wrapper__PXmss",sub_side_menu_items:"SideMenu_sub_side_menu_items__p5C0o"}}},function(e){e.O(0,[787,965,774,888,179],function(){return e(e.s=6066)}),_N_E=e.O()}]);